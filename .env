# ===============================
# MongoDB Configuration
# ===============================
MONGO_INITDB_ROOT_USERNAME=admin
MONGO_INITDB_ROOT_PASSWORD=secret

# Reference the above vars
APP_MONGO_URI=mongodb://${MONGO_INITDB_ROOT_USERNAME}:${MONGO_INITDB_ROOT_PASSWORD}@mongodb:27017/admin

# For backwards compatibility with old code
MONGO_ROOT_USERNAME=${MONGO_INITDB_ROOT_USERNAME}
MONGO_ROOT_PASSWORD=${MONGO_INITDB_ROOT_PASSWORD}


# ===============================
# Ollama Configuration (Shared)
# ===============================
OLLAMA_BASE_URL=http://host.docker.internal:11434
HISTORIAN_AGENT_OLLAMA_BASE_URL=${OLLAMA_BASE_URL}


# ===============================
# Flask Configuration
# ===============================
SECRET_KEY=super-secret-key
FLASK_ENV=development
FLASK_DEBUG=1

# ===============================
# Historian Agent Configuration
# ===============================
HISTORIAN_AGENT_ENABLED=1
HISTORIAN_AGENT_MODEL_PROVIDER=ollama
HISTORIAN_AGENT_MODEL=llama3.2-vision:latest
HISTORIAN_AGENT_TEMPERATURE=0.2
HISTORIAN_AGENT_CONTEXT_K=4
HISTORIAN_AGENT_CONTEXT_FIELDS=title,content
HISTORIAN_AGENT_SUMMARY_FIELD=content
HISTORIAN_AGENT_FALLBACK=1
OLLAMA_BASE_URL=http://host.docker.internal:11434
OPENAI_API_KEY=

# ===============================
# Paths
# ===============================
ARCHIVES_PATH=/data/archives/
ARCHIVES_HOST_PATH=../archives/borr_data/
MONGO_DATA_PATH=/data/db
MONGO_DATA_HOST_PATH=../mongo_data
SESSION_PATH=/app/flask_session
SESSION_HOST_PATH=../flask_session

# ===============================
# Optional Flags
# ===============================
RUN_BOOTSTRAP=0

# ===============================
# Historian Agent RAG Configuration (Updated for gte-Qwen2-1.5B)
# ===============================
HISTORIAN_AGENT_USE_VECTOR_RETRIEVAL=true
HISTORIAN_AGENT_EMBEDDING_PROVIDER=local
HISTORIAN_AGENT_EMBEDDING_MODEL=Alibaba-NLP/gte-Qwen2-1.5B-instruct
HISTORIAN_AGENT_CHUNK_SIZE=1000
HISTORIAN_AGENT_CHUNK_OVERLAP=200
HISTORIAN_AGENT_VECTOR_STORE=chroma
CHROMA_PERSIST_DIRECTORY=/data/chroma_db/persist
HISTORIAN_AGENT_HYBRID_ALPHA=0.5
CHROMA_HOST_PATH=../chroma_db