# --- 1. MONGODB CONFIGURATION (DOCKER & APP) ---
MONGO_INITDB_ROOT_USERNAME=admin
MONGO_INITDB_ROOT_PASSWORD=secret
MONGO_URI=mongodb://admin:secret@mongodb:27017/admin
APP_MONGO_URI=mongodb://admin:secret@mongodb:27017/admin
MONGO_ROOT_USERNAME=admin
MONGO_ROOT_PASSWORD=secret
DB_NAME=railroad_documents
CHUNKS_COLLECTION=document_chunks
DOCS_COLLECTION=documents

# --- 2. OLLAMA & LLM MASTER SETTINGS ---
OLLAMA_BASE_URL=http://host.docker.internal:11434
HISTORIAN_AGENT_OLLAMA_BASE_URL=http://host.docker.internal:11434
LLM_MODEL=gpt-oss:20b 
HISTORIAN_AGENT_MODEL=gpt-oss:20b 
HISTORIAN_AGENT_MODEL_PROVIDER=ollama
LLM_TEMPERATURE=0.2
HISTORIAN_AGENT_TEMPERATURE=0.2
LLM_MAX_TOKENS=40000
MAX_CONTEXT_TOKENS=80000

# --- 3. RAG & RETRIEVAL PARAMETERS ---
HISTORIAN_AGENT_TOP_K=20
VECTOR_WEIGHT=0.7
KEYWORD_WEIGHT=0.3
HISTORIAN_AGENT_HYBRID_ALPHA=0.5
HISTORIAN_AGENT_EMBEDDING_PROVIDER=ollama
HISTORIAN_AGENT_EMBEDDING_MODEL=qwen3-embedding:0.6b
HISTORIAN_AGENT_VECTOR_STORE=chroma
HISTORIAN_AGENT_USE_VECTOR_RETRIEVAL=true
CHROMA_PERSIST_DIRECTORY=/data/chroma_db/persist
RETRIEVAL_POOL_SIZE=100 # Number of documents to retrieve in the first step


# --- 4. RERANKING & ADVERSARIAL PIPELINE ---
CROSS_ENCODER_MODEL=cross-encoder/ms-marco-MiniLM-L-6-v2
CROSS_ENCODER_WEIGHT=0.85
TEMPORAL_WEIGHT=0.10
ENTITY_WEIGHT=0.05
FINAL_TOP_K=10
CRITIQUE_TEMPERATURE=0.1
USE_RERANKING=1
CONFIDENCE_THRESHOLD=0.85
VERIFIER_MODEL=qwen2.5:32b  # More reliable for JSON

# --- 5. FLASK & SYSTEM CONFIGURATION ---
SECRET_KEY=super-secret-key
FLASK_ENV=development
FLASK_DEBUG=1
HISTORIAN_AGENT_ENABLED=1
HISTORIAN_AGENT_CONTEXT_K=4
HISTORIAN_AGENT_CONTEXT_FIELDS=title,content
HISTORIAN_AGENT_SUMMARY_FIELD=content
HISTORIAN_AGENT_FALLBACK=1
HISTORIAN_AGENT_CHUNK_SIZE=1000
HISTORIAN_AGENT_CHUNK_OVERLAP=200
RUN_BOOTSTRAP=0
OPENAI_API_KEY=
DEBUG_MODE=1

# How many FULL documents to retrieve in Tier 2 expansion (Small-to-Big)
PARENT_RETRIEVAL_CAP=15

# --- 6. SYSTEM PATHS (CONTAINER & HOST) ---
ARCHIVES_PATH=/data/archives/
ARCHIVES_HOST_PATH=../archives/borr_data/
MONGO_DATA_PATH=/data/db
MONGO_DATA_HOST_PATH=../mongo_data
SESSION_PATH=/app/flask_session
SESSION_HOST_PATH=../flask_session
CHROMA_HOST_PATH=../chroma_db