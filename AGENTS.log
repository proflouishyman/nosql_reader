[2025-11-02 20:18] app/image_ingestion.py, app/routes.py, app/static/data_ingestion_model_selector.js, app/templates/partials/data_ingestion_model_selector.html, docs/ollama_menu_design/IMPLEMENTATION_SUMMARY.md, readme.md, AGENTS.md edited — Synced ingestion defaults with .env, surfaced selector errors, and updated guidelines/docs per UI changes.
[2025-11-03 13:35] app/routes.py, app/image_ingestion.py, app/static/settings_data_ingestion.js edited — Enabled SSE streaming for image scans with live frontend logs.
[2025-12-15 14:49] app/templates/document-detail.html edited — Displayed person synthesis at bottom of document detail
[2025-12-15 14:56] app/templates/document-detail.html edited — Styled person synthesis using nested renderer to match other JSON sections
[2025-12-15 15:04] app/templates/document-detail.html edited — Truncated common file extensions in document title display for cleaner UI.
[2025-12-15 15:32] app/templates/settings.html edited — removed ingestion controls from settings page
[2025-12-15 16:20] docs/rag_llm_design/RAG_WIRING_STATUS.md created — Summarised outstanding RAG wiring tasks for UI/server/migration gaps.
[2025-12-15 17:27] app/routes.py, app/templates/partials/historian_agent_settings.html, app/static/historian_agent.js, docs/rag_llm_design/RAG_WIRING_STATUS.md, readme.md edited — Wired vector retrieval settings through UI/API and documented rollout notes.
[2025-12-15 18:19] app/historian_agent/__init__.py edited — Stop silent vector fallback when document_chunks is missing so DB issues surface
[2025-12-15 19:12] app/historian_agent/retrievers.py edited — Synced vector search results with Mongo chunk metadata so citations carry parent IDs and text
[2026-02-23 12:37] readme.md, setup.md, docs/february_how_this_works.md, app/CLI_ingestion_files_wip/QUICK_REFERENCE.md, app/CLI_ingestion_files_wip/CLI_README.md, scripts/run_e2e_suite.sh, SOLUTIONS.MD edited — Corrected stale cleanup-path references to main repo paths and fixed E2E script target path.
[2026-02-23 12:54] quick_check.sh, app/util/e2e_cli_suite.py, SOLUTIONS.MD edited — Hardened container status detection and Chroma embeddings handling to avoid false failures across Compose/ndarray runtime differences.
[2026-02-23 14:43] run_app.sh, app/build_info.json, SOLUTIONS.MD edited — Added pre-boot build-info stamping so settings metadata reflects current host branch/commit on startup.
[2026-02-25 15:35] app/static/style.css, SOLUTIONS.MD edited — Reworked document detail image-panel flex layout so zoom/adjustment controls remain visible while the image scrolls.
[2026-02-25 15:38] app/static/style.css, SOLUTIONS.MD edited — Reduced document panel height for fixed-header space and added internal adjustment-controls scrolling so full control set is reachable.
[2026-02-25 15:50] app/templates/home.html, app/templates/search.html, app/templates/search-terms.html, app/templates/historian_agent.html, app/templates/corpus_explorer.html, app/templates/settings.html, app/templates/database-info.html, app/templates/help.html, app/templates/document-list.html, app/templates/network-document-list.html, app/templates/login.html, app/templates/data_files.html, app/templates/error.html, app/static/script.js, app/static/historian_agent.js, app/static/corpus_explorer.js, app/util/e2e_cli_suite.py, SOLUTIONS.MD edited — Extended explicit delayed-help tooltip coverage across primary pages and dynamic controls; tightened tooltip contract checks.
[2026-02-25 16:05] .gitignore, app/data/.gitignore, app/setup/build_demographics_db.py, app/setup/normalize_occupations.py, app/routes.py, app/templates/demographics.html, app/templates/base.html, readme.md, setup.md, SOLUTIONS.MD edited — Added demographics SQLite builder + dashboard routes/UI, wired CSV/filter/sort APIs, and implemented fuzzy occupation normalization workflow with migration-safe columns/indexes.
[2026-02-25 16:26] app/templates/demographics.html, SOLUTIONS.MD edited — Replaced gender/race doughnut charts with horizontal bar charts for clearer comparison.
[2026-02-25 16:28] app/templates/demographics.html, SOLUTIONS.MD edited — Added percentage labels to gender/race horizontal bars via a Chart.js drawing plugin.
[2026-02-25 16:31] app/templates/demographics.html, SOLUTIONS.MD edited — Extended percentage labels to all demographics bar charts (occupations, divisions, hire decades, injuries) with orientation-aware placement.
[2026-02-25 16:34] app/templates/demographics.html, SOLUTIONS.MD edited — Added explicit delayed-help tooltips (data-help) across demographics controls, charts, KPI cards, table headers, and pagination to match network-analysis guidance style.
[2026-02-25 22:14] app/templates/base.html, app/templates/home.html, app/templates/historian_agent.html, app/static/style.css, app/routes.py, app/static/historian_agent.js, SOLUTIONS.MD edited — Implemented contract-safe UI overhaul: viewport/fonts/favicon, active-page nav with More dropdown, home feature-card layout, Historian Agent Quick/Verified/Deep labels, activity-stream log panel, inline per-answer metrics derived from existing metrics.total_time/doc_count/tiers contract, and tokenized legacy document-detail styling.
[2026-02-25 22:24] app/templates/base.html, app/templates/home.html, app/routes.py, SOLUTIONS.MD edited — Added Unique Terms Explorer as a home dashboard card and a More-menu utility link; wired /search-terms to _render(page='search_terms') so nav active-state highlights correctly.
[2026-02-25 22:30] app/templates/base.html, app/static/style.css, SOLUTIONS.MD edited — Switched display typography to Merriweather via font tokens and completed palette refactor by routing all non-root color literals through exhaustive --palette-* design-token aliases.
[2026-02-25 22:34] app/templates/settings.html, app/static/style.css, app/config.json, SOLUTIONS.MD edited — Updated Settings page with tool shortcuts (including Unique Terms Explorer), aligned UI preference defaults to Merriweather/Open Sans + current palette tokens, and synchronized persisted config font/color values.
[2026-02-25 22:36] app/templates/settings.html, app/static/style.css, SOLUTIONS.MD edited — Removed Tool shortcuts section from Settings and deleted unused settings-shortcuts styles to keep Settings focused on configuration.
[2026-02-26 14:23] app/static/js/network.js, app/network/network_routes.py, app/static/style.css, app/static/historian_agent.js, app/historian_agent/rag_query_handler.py, app/templates/document-detail.html, app/templates/search.html, app/static/script.js, app/templates/corpus_explorer.html, app/static/corpus_explorer.js, app/templates/network-analysis.html, app/routes.py, SOLUTIONS.MD edited — Implemented historian UX feature set: entity action popover + mini-network, person-first network search endpoint/UI, inline footnote citations and structured answer styling, symmetric historian prompt sections across tiers, canonical search filters (year/document_type/archive_structure.physical_box) with missing handling, citation-copy button, and research memo export.
[2026-02-26 14:49] app/templates/search.html, app/static/script.js, app/routes.py, app/static/style.css, SOLUTIONS.MD edited — Removed top archival filter panel, restored row-only search contract, and kept record-type filtering as dropdown-backed `document_type` field in existing field selector.
[2026-02-26 14:51] app/routes.py, app/templates/search.html, SOLUTIONS.MD edited — Added row-based `missing` semantics for document_type/physical_box dropdown selections and kept document_type values auto-populated from live distinct data.
[2026-02-26 15:22] app/static/historian_agent.js, SOLUTIONS.MD edited — Revised historian citation UX: inline [Source N] markers now render as Chicago-style superscripts at claim-ending punctuation, superscript hover text shows source citation, and legacy side-source repopulation is disabled so footnotes remain at the bottom.
[2026-02-26 15:33] app/templates/historian_agent.html, app/static/style.css, SOLUTIONS.MD edited — Removed legacy Historian Agent side-source panel markup/styles so citations render only as inline superscripts with bottom footnote blocks.
[2026-02-26 15:47] app/static/historian_agent.js, app/static/style.css, SOLUTIONS.MD edited — Fixed historian citation layout regression by rendering footnotes inside assistant bubbles (bottom), added `(Source N)` marker conversion to superscripts, and added assistant-message vertical stacking guard in CSS.
[2026-02-26 15:52] app/static/historian_agent.js edited — Removed dead `agentSources`/`agentSourcesList` references after source-panel markup removal to keep historian citation contract explicit.
[2026-02-26 15:39] AUDIT_RESULTS.md edited — Added 9-task system audit with file/line references and feasibility/risk analysis.
[2026-02-26 16:04] app/static/historian_agent.js, app/static/style.css, app/historian_agent/rag_query_handler.py, SOLUTIONS.MD edited — Fixed root citation regression by replacing digit-scrape fallback with source-index-aware marker resolution (supports Source/Sources lists and ranges while ignoring document-ID suffixes), added multi-superscript separator styling, and tightened prompt citation token contract.
[2026-02-26 16:20] app/routes.py, SOLUTIONS.MD edited — Normalized `/historian-agent/query` source payloads to canonical `display_name/url` contract via generalized `sources_list_to_dict` (supports legacy reference/title lists and modern label/display_name lists), added search_id parity and normalized sources in cached history.
[2026-02-26 16:34] app/static/historian_agent.js, app/static/style.css, SOLUTIONS.MD edited — Hardened citation parser for `Source [N: ...]` / `Sources [N-M]` / bare `[N: ...]` markers and added explicit full-width assistant research-bubble CSS guard.
